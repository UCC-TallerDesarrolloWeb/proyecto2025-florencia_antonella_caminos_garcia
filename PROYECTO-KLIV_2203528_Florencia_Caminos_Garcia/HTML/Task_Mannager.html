<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Manager Pro</title>
    <link rel="stylesheet" href="../CSS/Task_Mannager.css">
    <script src="../JS/Task_Mannager.js" defer></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&family=SUSE+Mono:ital,wght@0,100..800;1,100..800&family=Source+Code+Pro:ital,wght@1,700&display=swap"
        rel="stylesheet">
</head>

<body>
    <aside id="sidebar">

        <h2>Proyectos</h2>

        <div class="toolbar">
            <p>Acciones</p>
            <div class="toolbar-buttons">
                <button class="sidebar-btn" id="btn-new-task-sidebar" type="button">➕ Nueva Tarea</button>
                <button class="sidebar-btn" id="btn-new-project" type="button">📁 Nuevo Proyecto</button>
                <button class="sidebar-btn danger" id="btn-delete-completed-tasks" type="button">🗑️ Eliminar
                    Completadas</button>
                <button class="sidebar-btn danger" id="btn-delete-project" type="button">❌ Eliminar Proyecto</button>
            </div>
        </div>

        <button class="float-btn" id="btn-new-task-float" type="button">+</button>

        <div class="search-container">
            <label for="search-tasks-sidebar">Buscar tareas:</label>
            <input type="text" id="search-tasks-sidebar" placeholder="🔍 Buscar tareas...">
            <label for="sort-tasks-sidebar">Ordenar por:</label>
            <select id="sort-tasks-sidebar">
                <option value="fecha">Fecha</option>
                <option value="prioridad">Prioridad</option>
                <option value="nombre">Nombre</option>
            </select>
        </div>

        <div id="stats">
            <h3>Estadísticas</h3>
            <div class="stat-item">
                <span>Total: <span id="total-tasks">0</span></span>
                <div class="progress-bar">
                    <div class="progress"></div>
                </div>
            </div>
            <div class="stat-item">
                <span>Completadas: <span id="completed-tasks">0</span></span>
            </div>
            <div class="stat-item">
                <span>En progreso: <span id="inprogress-tasks">0</span></span>
            </div>
            <div class="stat-item">
                <span>Pendientes: <span id="pending-tasks">0</span></span>
            </div>
        </div>

        <div id="projects-container">
            <ul id="project-list">
                <li><button class="project-btn active" data-project="personal" type="button">🏠 Personal</button></li>
                <li><button class="project-btn" data-project="trabajo" type="button">💼 Trabajo</button></li>
                <li><button class="project-btn" data-project="estudios" type="button">📚 Estudios</button></li>
            </ul>
        </div>

        <div id="project-filters">
            <label for="opciones">Selecciona una opción</label>
            <select name="opciones" id="opciones">
                <option value="" disable selected>Elige una opción</option>
                <option name="filter" value="Alta">Prioridad Alta</option>
                <option name="filter" value="Media">Prioridad Media</option>
                <option name="filter" value="Baja">Prioridad Baja</option>
                <option name="filter" value="Urgente">Urgente</option>
                <option name="filter" value="Importante">Importante</option>
            </select>
        </div>

        <div>
            <label for="sort-tasks-main" class="visually-hidden">Ordenar tareas</label>
            <select id="sort-tasks-main" name="sort-tasks-main" aria-label="Ordenar tareas">
                <option value="fecha">📅 Ordenar por fecha</option>
                <option value="prioridad">⚡ Ordenar por prioridad</option>
                <option value="nombre">🔠 Ordenar por nombre</option>
            </select>
        </div>
    </aside>

    <main id="kanban">
        <header>
            <h1>Task Mannager</h1>
            <div class="header-controls">
                <div id="notifications">
                    <button id="btn-notifications" type="button">🔔 <span id="notification-count">0</span></button>
                    <div id="notification-list" class="dropdown">
                        <div class="notification-item">No hay notificaciones</div>
                    </div>
                </div>
                <button id="theme-toggle" type="button">🌙</button>
                <button id="btn-help" type="button">?</button>
            </div>
        </header>

        <div class="view-toggle">
            <button id="btn-kanban-view" class="active" type="button">📋 Vista Kanban</button>
            <button id="btn-calendar-view" type="button">📅 Vista Calendario</button>
            <button id="btn-list-view" type="button">📝 Vista Lista</button>
        </div>

        <div id="board" class="view active">
            <section class="column" id="todo" data-status="todo">
                <h2>To Do <span class="task-count">0</span></h2>
                <ul class="task-list" data-status="todo"></ul>
            </section>

            <section class="column" id="inprogress" data-status="inprogress">
                <h2>In Progress <span class="task-count">0</span></h2>
                <ul class="task-list" data-status="inprogress"></ul>
            </section>

            <section class="column" id="done" data-status="done">
                <h2>Done <span class="task-count">0</span></h2>
                <ul class="task-list" data-status="done"></ul>
            </section>
        </div>

        <div id="calendar-view" class="view">
            <h2>Vista Calendario</h2>
            <div id="calendar-header">
                <button id="prev-month" type="button">◀</button>
                <h3 id="current-month">Septiembre 2023</h3>
                <button id="next-month" type="button">▶</button>
            </div>
            <div id="calendar"></div>
        </div>

        <div id="list-view" class="view" ;">
            <h2>Vista Lista</h2>
            <table id="task-table">
                <thead>
                    <tr>
                        <th>Título</th>
                        <th>Prioridad</th>
                        <th>Fecha</th>
                        <th>Estado</th>
                        <th>Proyecto</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>

        <section id="task-form" class="modal" ;">
            <div class="modal-content">
                <h2>Crear / Editar Tarea</h2>
                <form id="formTask">
                    <input type="hidden" id="taskId" name="taskId">

                    <label for="taskProject">Proyecto:</label>
                    <select id="taskProject" name="taskProject">
                        <option value="personal">Personal</option>
                        <option value="trabajo">Trabajo</option>
                        <option value="estudios">Estudios</option>
                    </select>

                    <label for="task-template">Plantilla:</label>
                    <select id="task-template">
                        <option value="">Personalizada</option>
                        <option value="reunion">Reunión semanal</option>
                        <option value="revision">Revisión de código</option>
                        <option value="estudio">Sesión de estudio</option>
                    </select>

                    <label for="taskTitle">Título de la tarea:</label>
                    <input type="text" id="taskTitle" name="taskTitle" placeholder="Escribe el título" required>

                    <label for="taskDescription">Descripción:</label>
                    <textarea id="taskDescription" name="taskDescription" rows="3"
                        placeholder="Escribe la descripción"></textarea>

                    <fieldset>
                        <legend>Prioridad:</legend>
                        <input type="radio" id="high" name="priority" value="Alta">
                        <label for="high">Alta</label>
                        <input type="radio" id="medium" name="priority" value="Media" checked>
                        <label for="medium">Media</label>
                        <input type="radio" id="low" name="priority" value="Baja">
                        <label for="low">Baja</label>
                    </fieldset>

                    <label for="dueDate">Fecha de entrega:</label>
                    <input type="date" id="dueDate" name="dueDate">

                    <label>Etiquetas:</label>
                    <div class="tags-container">
                        <input type="checkbox" id="tagUrgente" name="tags" value="Urgente">
                        <label for="tagUrgente">Urgente</label>
                        <input type="checkbox" id="tagImportante" name="tags" value="Importante">
                        <label for="tagImportante">Importante</label>
                        <input type="checkbox" id="tagOpcional" name="tags" value="Opcional">
                        <label for="tagOpcional">Opcional</label>
                    </div>

                    <label for="subtasks">Subtareas (separadas por coma):</label>
                    <input type="text" id="subtasks" name="subtasks" placeholder="Ej: Revisar informe, Enviar correo">

                    <label for="time-estimate">Tiempo estimado (horas):</label>
                    <input type="number" id="time-estimate" name="time-estimate" min="0" step="0.5">

                    <label for="attachments">Adjuntar archivos:</label>
                    <input type="file" id="attachments" name="attachments" multiple>

                    <div id="task-comments">
                        <h3>Comentarios</h3>
                        <div id="comments-list"></div>
                        <textarea id="new-comment" placeholder="Escribe un comentario..."></textarea>
                        <button type="button" id="add-comment">Agregar comentario</button>
                    </div>

                    <div class="form-actions">
                        <button type="submit">Guardar Tarea</button>
                        <button type="button" id="btn-show-comments">Mostrar Comentarios</button>
                        <button type="reset">Limpiar</button>
                        <button type="button" id="btn-cancel-task">Cancelar</button>
                    </div>
                </form>
            </div>
        </section>
    </main>

    <div id="project-modal" class="modal" ;">
        <div class="modal-content">
            <h3>Nuevo Proyecto</h3>
            <input type="text" id="new-project-name" placeholder="Nombre del proyecto">
            <div class="modal-actions">
                <button id="save-project" type="button">Guardar</button>
                <button id="cancel-project" type="button">Cancelar</button>
            </div>
        </div>
    </div>

    <div id="shortcut-help" class="modal" ;">
        <div class="modal-content">
            <h3>Atajos de teclado</h3>
            <ul>
                <li><kbd>N</kbd> Nueva tarea</li>
                <li><kbd>P</kbd> Nuevo Proyecto</li>
                <li><kbd>Esc</kbd> Cerrar modal</li>
                <li><kbd>Ctrl + F</kbd> Buscar</li>
                <li><kbd>Ctrl + S</kbd> Guardar tarea</li>
                <li><kbd>1, 2, 3</kbd> Cambiar vista (Kanban, Calendario, Lista)</li>
            </ul>
            <button id="close-help" type="button">Cerrar</button>
        </div>
    </div>

    <div id="delete-confirm" class="modal"">
        <div class=" modal-content">
        <h3>¿Eliminar tarea?</h3>
        <p>¿Estás seguro de que quieres eliminar esta tarea? Esta acción no se puede deshacer.</p>
        <div class="modal-actions">
            <button id="confirm-delete" type="button">Sí, eliminar</button>
            <button id="cancel-delete" type="button">Cancelar</button>
        </div>
    </div>
    </div>

    <button class="float-btn" id="btn-new-task" type="button">+</button>
</body>

</html>