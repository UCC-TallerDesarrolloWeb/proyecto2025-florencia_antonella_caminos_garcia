$mobile-padding: 1rem;
$mobile-breakpoint-sm: 480px;
$mobile-breakpoint-md: 768px;
$mobile-breakpoint-lg: 1024px;

@mixin mobile-flex-column {
  display: flex;
  flex-direction: column;
}

@mixin mobile-full-width {
  width: 100%;
  margin-left: 0;
  margin-right: 0;
}

@media (max-width: #{$mobile-breakpoint-lg}) {
  #site-header {
    margin-left: 0;
    flex-direction: column;
    gap: 15px;
    align-items: stretch;
    padding: 1rem 1.5rem;

    #header-content {
      order: 1;
      text-align: center;
    }

    #search-Section {
      order: 2;
      flex: 1;
      max-width: 100%;
    }

    #user-info {
      order: 3;
    }
  }

  #sidebar {
    position: static;
    height: auto;
    width: 100%;
    flex-direction: row;
    overflow-x: auto;
    padding: 1rem;


    h4 {
      font-size: 1.1rem;
      margin-bottom: 1rem;
      white-space: nowrap;
    }
  }

  #sidebar-menu {
    flex-direction: row;
    gap: 0.5rem;
    overflow-x: auto;
    padding-bottom: 0.5rem;
  }

  .sidebar-item {
    white-space: nowrap;
    min-width: max-content;


    &:hover {
      transform: translateY(-2px);
    }
  }

  #site-main {
    margin-left: 0;
    padding: $mobile-padding;
  }

  #site-footer {
    margin-left: 0;

    .footer-content {
      flex-direction: column;
      gap: 1rem;
      text-align: center;
    }

    .footer-links {
      flex-wrap: wrap;
      justify-content: center;
    }
  }
}

@media (max-width: #{$mobile-breakpoint-md}) {
  #main-title {
    font-size: 1.8rem;
  }

  #dashboard-subtitle {
    font-size: 0.9rem;
  }

  #search-Section {
    @include mobile-flex-column;
    width: 100%;

    #searchBox {
      border-radius: 12px;
      margin-bottom: 0.5rem;
    }

    #searchButton {
      border-radius: 12px;
    }
  }

  .nav-controls {
    @include mobile-flex-column;
    gap: 1rem;
    padding: 1rem;
  }

  .dashboard-grid {
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  .projects-grid,
  .settings-grid {
    grid-template-columns: 1fr;
  }

  .tasks-summary {
    flex-direction: column;
    gap: 1rem;
  }

  .section-actions {
    flex-direction: column;
    gap: 0.75rem;

    .btn-primary,
    .btn-secondary {
      width: 100%;
      text-align: center;
    }
  }

  .dashboard-card,
  .project-card,
  .settings-card {
    margin: 0.5rem 0;

    &:hover {
      transform: none;
    }
  }

  .user-menu {
    position: fixed;
    top: auto;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: 20px 20px 0 0;
    transform: translateY(100%);

    &.active {
      transform: translateY(0);
    }
  }
}

@media (max-width: #{$mobile-breakpoint-sm}) {
  #site-main {
    padding: 0.75rem;
  }

  .main-section {
    padding: 1.25rem;
    border-radius: 12px;
    margin-bottom: 1rem;
  }

  .section-title {
    font-size: 1.5rem;
    margin-bottom: 1rem;
  }

  .card-actions {
    flex-direction: column;
    gap: 0.5rem;

    button {
      width: 100%;
    }
  }

  .tasks-table {
    font-size: 0.8rem;

    .table-header th,
    .table-body td {
      padding: 0.75rem 0.5rem;
    }

    .priority-column,
    .date-column {
      display: none;
    }
  }

  .form-group {
    margin-bottom: 1rem;

    input, textarea, select {
      padding: 10px 12px;
      font-size: 16px;
    }
  }

  .button-group {
    flex-direction: column;

    button {
      width: 100%;
      margin-bottom: 0.5rem;
    }
  }

  .gallery-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
  }

  .card-title {
    font-size: 1.1rem;
  }

  .summary-count {
    font-size: 1.5rem;
  }
}

@media (max-width: #{$mobile-breakpoint-md}) and (orientation: landscape) {
  #sidebar {
    height: 80px;
    padding: 0.5rem;
  }

  #site-main {
    min-height: calc(100vh - 80px);
  }
}

@media (hover: none) and (pointer: coarse) {
  .sidebar-item:hover {
    transform: none;
    background: rgba(255, 255, 255, 0.15);
  }

  .dashboard-card:hover,
  .project-card:hover {
    transform: none;
  }

  .interactive-btn:hover {
    transform: none;
    background: rgba(92, 167, 219, 0.1);
  }

  .sidebar-item,
  .nav-btn,
  .interactive-btn,
  .menu-link {
    min-height: 44px;
    min-width: 44px;
  }
}

@media (prefers-color-scheme: dark) and (max-width: #{$mobile-breakpoint-md}) {
  body {
    background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
    color: #e2e8f0;
  }

  .main-section,
  .dashboard-card,
  .project-card,
  .settings-card {
    background: #2d3748;
    color: #e2e8f0;
  }
}

.mobile-only {
  display: block;

  @media (min-width: #{$mobile-breakpoint-md + 1}) {
    display: none;
  }
}

.desktop-only {
  display: block;

  @media (max-width: #{$mobile-breakpoint-md}) {
    display: none;
  }
}

.mobile-menu-toggle {
  display: none;

  @media (max-width: #{$mobile-breakpoint-lg}) {
    display: block;
    position: fixed;
    top: 1rem;
    left: 1rem;
    z-index: 1001;
    background: linear-gradient(135deg, #5CA7DB, #5624E0);
    border: none;
    border-radius: 8px;
    width: 44px;
    height: 44px;
    color: white;
    cursor: pointer;
  }
}